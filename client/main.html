<head>
  <title>Vote</title>
</head>

<body>
  {{>mainLayout}}
</body>


<!--------------------------------------- Templates -------------------------------------------->

<template name="mainLayout">
  {{>Template.dynamic template=main }}
</template>

<template name="mainView">
    <!--{{> sideBar}}-->
    {{> content}}
</template>

<template name="sideBar">
  <div id="sideBar" class="col-sm-3 col-md-3 col-lg-3">
    <div id="sideBarUser">
      <div id="contentUser">
        <img src="https://www.buenasalud.net/wp-content/uploads/imagenes/3-ejercicios-faciales-para-embellecer-el-rostro-.jpg" id="avatar" class="img-circle" width="50" height="50">
        <div id="name">
          <label>Jhon Loganh</label><br>
        </div>
      </div>
    </div>  
    <div id="sideBarOptions">
      {{>option}}
    </div>
  </div>
</template>

<template name="content">
  {{> bar}}
  <div class="col-md-8 col-lg-8 col-md-push-2" id="content">
    {{> infoItemNAdd}}
    {{>itemsLoaded}}
  </div>
</template>

<template name="bar">
<nav class="navbar navbar-default">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">Survey pool</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <!--Left-->
      <form class="navbar-form navbar-left">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search">
        </div>
      </form>
      
      <!--other buttons-->
      <ul class="nav navbar-nav">
        <li><a href="#">Stadistics<span class="sr-only">(current)</span></a></li>
        <li><a href="#">Profile</a></li>
        <li><a href="#">Tops</a></li>
        <li><a href="#">Help</a></li>
      </ul>
      
      <!--Rigth-->
      <ul class="nav navbar-nav navbar-right ">
        {{> loginButtons}}
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
</template>

<template name="infoItemNAdd">
  <div class="row">
    <div class="col-md-10">
       <h4>Cantidad de encuestas: {{CantItems}}</h4>
    </div>
    <div class="col-md-2">
       <a href="AddItem" id="add-button" class="btn btn-success">Add</a>    
    </div>    
  </div>
 
</template>

<template name="itemsLoaded">
  <div class="panel panel-primary">
    <div class="panel-heading">
      <div class="row">
        <div class="col-md-4">
          <h5>Titulo</h5>
        </div>        
        <div class="col-md-1">
          <h5>Winner</h5>
        </div>        
        <div class="col-md-1">
          <h5>Views</h5>
        </div>        
        <div class="col-md-1">
          <h5>Time (Hours)</h5>
        </div>        
        <div class="col-md-4">
          
        </div>
      </div>
    </div>
        {{#each  LoadItem}} 
            {{> item title=title duration=duration createdAt=createdAt idpreguntas=idpreguntas views=views}}
        {{/each}}
  </div>  
</template>


<template name="item">
  <div id="item" class="row">
    <div class="col-sm-12 col-md-12 col-lg-12">
      <div class="panel-footer">
        <div class="row">
          <div class="col-sm-4 col-md-4 col-lg-4">
            <strong>{{title}}</strong>
          </div>        
          <div class="col-sm-1 col-md-1 col-lg-1">
            {{Mayor idpreguntas}}
          </div>        
          <div class="col-sm-1 col-md-1 col-lg-1">
            {{views}}
          </div>        
          <div class="col-sm-1 col-md-1 col-lg-1">
            {{duration}}
          </div>        
          <div class="col-sm-4 col-md-4 col-lg-4">
            <div id="itemButtons" class="col-md-12 col-md-push-3">
              <a href="watch?title={{title}}" id="see" class="btn btn-secondar"><i class="glyphicon glyphicon-eye-open"></i></a>
              <a href="" name={{title}} id="pause" class="btn btn-secondar"><i class="glyphicon glyphicon-pause"></i></a>
              <a href="" name={{idpreguntas}}  id="link" class="btn btn-secondar"><i class="glyphicon glyphicon-link"></i></a>
              <a href="" name={{idpreguntas}} id="delete" class="btn btn-secondar btn-danger"><i class="glyphicon glyphicon-trash"></i></a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<template name="progressBar">
  <div id="contentProgressBar">
    <div class="progress">
      <div class="progress-bar-info" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;">
    {{perc}}%
      </div>
    </div>
  </div>   
</template>

<template name="option">
  <div class="list-group">
    <a href="#" class="list-group-item">Perfil</a>
    <a href="#" class="list-group-item">Estadisticas</a>
    <a href="#" class="list-group-item">Tops</a>
  </div>
</template>

<template name="AddItemTemplate">
  <div class="container">
    <div class="panel panel-default">
      <div class="panel-heading"><label for="">ADD NEW TOPIC</label></div>
      <div class="panel-body">
        <form class="new-item" >
          <label for="basic-url">TITLE</label>
          <input type="text" name="addmore" id="title" class="form-control" placeholder="Type a title">
          <div class="divider"></div>
          <div class="input-group control-group after-add-more">
            <label for="basic-url">ANSWERS</label>						
            <input type="text" name="addmore" id="questionItem" class="form-control" placeholder="Type a posible answer">
            <div class="input-group-btn"> 
              <button class="btn btn-success add-more" type="button"><i class="glyphicon glyphicon-plus"></i></button>
            </div>
          </div>
          
          <div class="divider"></div>        
          <label for="basic-url">DURATION</label>
          <input type="text" name="addmore" class="form-control" id="duration" placeholder="Type duration in hours">
  
         <div class="col-md-12 col-md-push-5" id="submitNewItem">
            <button type="submit" class="btn btn-primary" >Submit</button>         
         </div>             

        </form>
      </div>
    </div>
  </div>
  <a href="/" id="add-button" class="btn btn-default">back</a>
</template>


<template name="watchLoaded">
  {{#each  findItem}}
        {{> watch title=title duration=duration createdAt=createdAt idpreguntas=idpreguntas}}
  {{/each}}
</template>


<template name="watch">
  <div class="container">
    <div class="panel panel-primary">
      <div class="panel-heading"><h1>{{title}}</h1></div>
      <div class="panel-body">
          
          <div class="input-group control-group after-add-more">
            <div class="row">
              <div class="col-md-6"><label>ANSWERS </label></div>
              <div class="col-md-6"><label>VOTOS</label></div> 
              {{#each findAnswer idpreguntas }}
                {{> loadAnswer answer=answer points=points}}
              {{/each}}
            </div>
          </div>
          
          <div class="divider"></div>        
          <label for="basic-url">DURATION:</label> {{duration}} (Hours)<br>         
          <label>TIME LEFT:</label>{{>progressBar perc= duration}}         
          
          <div class="divider"></div>        
          <label for="basic-url">CREATE AT:</label> {{createdAt}}

      </div>
    </div>  
  </div>
<a href="/" id="add-button" class="btn btn-default">back</a>
</template>

<Template name="loadAnswer">
      <div class="col-md-6">
          {{answer}}
      </div>
      <div class="col-md-6" >
          {{points}}
      </div>    
</Template>

<template name="voteLoaded">
 {{#each  findItem}}
        {{> vote title=title idpreguntas=idpreguntas}}
  {{/each}}  
</template>

<template name="vote">
  <div class="container">
    <div class="panel panel-primary">
      <div class="panel-heading"><h1>{{title}}</h1></div>
      <div class="panel-body">
          
          <div class="input-group control-group after-add-more">
            <div class="row">
             <form class="new-vote">
                <div class="radio">
                  {{#each findAnswer idpreguntas }}
                    {{> loadAnswerClient answer=answer points=points}}
                  {{/each}}
                </div>
                <div class="col-sm-12 col-md-12 col-lg-12" id="Send">
                   <button type="submit" class="btn btn-success" id="vote">Send</button>                  
                </div>
            </form>              
              
            </div>
          </div>
      </div>
    </div>  
  </div>  
</template>

<template name="loadAnswerClient">
    <div class="col-md-12" id="seeAnswers">
      <h4><input type="radio"  name="optradio" value={{answer}}>{{answer}}</h4>
    </div>
</template>

<template name="thanks">
  <div class="alert alert-success">
    <strong>Success!</strong> Thanks for participating!
  </div> 
</template>
